<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/style.css">
    <link rel="stylesheet" href="./styles/modal.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Handlee&family=Indie+Flower&display=swap"
        rel="stylesheet"
    />
    <title>Notaty</title>
</head>
<body onload="updateNotesTable()">
    <!-- Navigation Bar -->
    <div class="navigation-bar">
        <div class="navigation-container">
            <div class="left">
                <!-- <img src="./images/note.png" alt="Note"> -->
                <svg height="50px" width="50px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 392.681 392.681" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <polyline style="fill:#56ACE0;" points="21.851,55.185 21.851,110.91 283.022,110.91 283.022,55.185 "></polyline> <polyline style="fill:#FFFFFF;" points="283.022,132.761 21.851,132.761 21.851,370.918 283.022,370.918 "></polyline> <polygon style="fill:#FFC10D;" points="181.786,290.11 172.671,322.433 204.929,313.189 328.792,189.391 305.584,166.312 "></polygon> <path style="fill:#FFFFFF;" d="M342.82,129.076l-21.85,21.85l23.079,23.079l21.85-21.85c6.4-6.4,6.4-16.743,0-23.079 C359.822,122.87,349.026,122.87,342.82,129.076z"></path> <path style="fill:#194F82;" d="M327.434,113.561l-22.626,22.626V44.195c0-6.012-4.848-10.925-10.925-10.925h-41.956V10.967 c0-6.012-4.848-10.925-10.925-10.925c-6.077,0-10.925,4.848-10.925,10.925V33.27H192.84V10.967c0-6.012-4.848-10.925-10.925-10.925 c-6.012,0-10.925,4.848-10.925,10.925V33.27h-37.236V10.967c-0.065-6.012-4.913-10.925-10.99-10.925 c-6.077,0-10.925,4.848-10.925,10.925V33.27H74.796V10.967c0-6.012-4.913-10.925-10.99-10.925S52.881,4.89,52.881,10.967V33.27 H10.925C4.913,33.27,0,38.118,0,44.195v337.519c0,6.012,4.848,10.925,10.925,10.925h283.022c6.012,0,10.925-4.848,10.925-10.925 V244.146l76.606-76.606c14.545-14.998,15.321-38.4,0-53.915C366.933,99.015,342.174,98.757,327.434,113.561z M21.851,55.12h31.095 v22.303c0,6.012,4.848,10.925,10.925,10.925S74.796,83.5,74.796,77.423V55.12h37.236v22.303c0,6.012,4.848,10.925,10.925,10.925 s10.925-4.848,10.925-10.925V55.12h37.236v22.303c0,6.012,4.848,10.925,10.925,10.925c6.012,0,10.925-4.848,10.925-10.925V55.12 h37.236v22.303c0,6.012,4.848,10.925,10.925,10.925s10.925-4.848,10.925-10.925V55.12h31.095v55.79H21.98V55.12 C21.98,55.12,21.851,55.12,21.851,55.12z M283.022,370.853H21.851V132.696h261.172v25.277l-26.634,26.634 c-1.616-3.943-5.56-6.659-10.02-6.659H58.634c-6.012,0-10.925,4.848-10.925,10.925c0,6.012,4.848,10.925,10.925,10.925h182.497 l-43.248,43.378H58.634c-6.012,0-10.925,4.848-10.925,10.925c0,6.077,4.913,10.796,10.925,10.796h117.463l-11.636,11.636 c-1.293,1.293-2.263,2.909-2.78,4.719l-7.693,26.958H58.634c-6.012,0-10.925,4.848-10.925,10.925c0,6.012,4.848,10.99,10.925,10.99 h89.277l-1.487,5.107c-1.099,3.814,0,7.887,2.78,10.667c2.715,2.715,6.206,3.685,10.667,2.78l53.786-15.192 c1.745-0.517,3.426-1.487,4.719-2.78l64.646-64.646V370.853L283.022,370.853z M204.929,313.189l-32.194,9.115l9.115-32.323 l123.733-123.733l23.079,23.079L204.929,313.189z M366.028,152.09l-21.85,21.85l-23.079-23.079l21.85-21.85 c6.206-6.206,16.937-6.206,23.079,0C371.459,134.765,373.333,144.656,366.028,152.09z"></path> </g></svg>
                <h1>Notaty</h1>
            </div>
            <div class="right">
                <svg width="40px" height="40px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g id="style=bulk"> <g id="profile"> <path id="vector (Stroke)" fill-rule="evenodd" clip-rule="evenodd" d="M6.75 6.5C6.75 3.6005 9.1005 1.25 12 1.25C14.8995 1.25 17.25 3.6005 17.25 6.5C17.25 9.3995 14.8995 11.75 12 11.75C9.1005 11.75 6.75 9.3995 6.75 6.5Z" fill="#FFC10D"></path> <path id="rec (Stroke)" fill-rule="evenodd" clip-rule="evenodd" d="M4.25 18.5714C4.25 15.6325 6.63249 13.25 9.57143 13.25H14.4286C17.3675 13.25 19.75 15.6325 19.75 18.5714C19.75 20.8792 17.8792 22.75 15.5714 22.75H8.42857C6.12081 22.75 4.25 20.8792 4.25 18.5714Z" fill="#FFC10D"></path> </g> </g> </g></svg>
                <div id="username"></div>
            </div>
        </div>
    </div>

    <!-- Customize Setting -->
    <!-- <div id="settingBar" class="setting-bar">
        <div class="container">
            <ul>
                <li onclick="chooseFont()">Font Size</li>
                <li onclick="chooseColor()">Font Color</li>
                <li onabort="choosecolorTable()">Table Color</li>
            </ul>
        </div>
    </div> -->

    <div id="fontSizeModal" class="fModal">

    </div>

    <div id="fontColorModal" class="fModal">

    </div>

    <div id="table ColorModal" class="fModal"></div>
    </div>

    <!-- Search Bar -->
    <div id="searchBar">
        <button
            id="addBtn"
            class="action-button"
            onclick="openAddModal()"
            type="button"
        >
            Add
        </button>
        <input
            id="searchInput"
            type="text"
            class="search-input"
            placeholder="Search for note by title ..."
        />
        <button 
            id="searchBtn" 
            class="action-button"
            onclick="searchNotes()" 
            type="button"
        >
            Search
        </button>
    </div>

    <!-- Notes table -->
    <table id="notesTable">
        <colgroup>
            <col span="1" style="width: 20%;" />
            <col span="1" style="width: 30%;" />
            <col span="1" style="width: 20%;" />
            <col span="1" style="width: 20%;" />
            <col span="1" style="width: 10%;" />
        </colgroup>
        <tr>
            <th>Title</th>
            <th>Content</th>
            <th>Created At</th>
            <th>Last Updated</th>
            <th>Actions</th>
        </tr>
    </table>

    <!-- Add Note Modal -->
    <div id="addNoteModal" class="modal">
        <!-- Moel content -->
        <div class="modal-content">
            <div class="modal-header">
                <span id="closeAdd" class="close">&times;</span>
                <h2>New Note</h2>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="left">
                        <p>Title</p>
                    </div>
                    <div class="right">
                        <input id="addTitle" type="text" class="modal-input"/>
                    </div>
                </div>
                <div class="row">
                    <div class="left">
                        <p>Content</p>
                    </div>
                    <div class="right">
                        <textarea id="addContent"></textarea>
                    </div>
                </div>
                <p id="addError" class="error"></p>
            </div>
            <div class="modal-footer">
                <button
                    id="saveAddNoteBtn"
                    onclick="saveNewNote()"
                    type="button"
                    class="save action-button">
                    Save
                </button>
                <button 
                    id="cancelAddNoteBtn" 
                    type="button" 
                    class="cansel action-button">
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <!-- Edit Note Modal -->
    <div id="editNoteModal" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
            <div class="modal-header">
                <span id="closeEdit" class="close">&times;</span>
                <h2>Edit Note</h2>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="left">
                        <p>Title</p>
                    </div>
                    <div class="right">
                        <input id="editTitle" type="text" class="modal-input" />
                    </div>
                </div>
                <div class="row">
                    <div class="left">
                        <p>Content</p>
                    </div>
                    <div class="right">
                        <textarea id="editContent"></textarea>
                    </div>
                </div>
                <p id="editError" class="error"></p>
            </div>
            <div class="modal-footer">
                <button 
                    id="saveEditNoteBtn" 
                    class="save action-button"
                    onclick="saveEditNote()" 
                    type="button"> 
                    Save
                </button>
                <button 
                    id="cancelEditNoteBtn"
                    class="cansel action-button" 
                    type="button">
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <script src="./scripts/note-client.js"></script>
    <script src="./scripts/note-handler.js"></script>
    <script src="./scripts/modal-handler.js"></script>
    <script src="./scripts/auth-handler.js"></script>
</body>
</html>