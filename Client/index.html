<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/style.css">
    <link rel="stylesheet" href="./styles/modal.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Handlee&family=Indie+Flower&display=swap"
        rel="stylesheet"
    />
    <title>Notaty</title>
</head>
<body onload="updateNotesTable()">
    <!-- Navigation Bar -->
    <div class="navigation-bar">
        <div class="navigation-container">
            <div class="left">
                <!-- <img src="./images/note.png" alt="Note"> -->
                <svg width="100px" height="100px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8.75 3.5V2C8.75 1.59 8.41 1.25 8 1.25C7.59 1.25 7.25 1.59 7.25 2V3.56C7.5 3.53 7.73 3.5 8 3.5H8.75Z" fill="#4DA1A9"></path> <path d="M16.75 3.56V2C16.75 1.59 16.41 1.25 16 1.25C15.59 1.25 15.25 1.59 15.25 2V3.5H16C16.27 3.5 16.5 3.53 16.75 3.56Z" fill="#4DA1A9"></path> <path d="M16.75 3.56V5C16.75 5.41 16.41 5.75 16 5.75C15.59 5.75 15.25 5.41 15.25 5V3.5H8.75V5C8.75 5.41 8.41 5.75 8 5.75C7.59 5.75 7.25 5.41 7.25 5V3.56C4.3 3.83 3 5.73 3 8.5V17C3 20 4.5 22 8 22H16C19.5 22 21 20 21 17V8.5C21 5.73 19.7 3.83 16.75 3.56ZM12 16.75H8C7.59 16.75 7.25 16.41 7.25 16C7.25 15.59 7.59 15.25 8 15.25H12C12.41 15.25 12.75 15.59 12.75 16C12.75 16.41 12.41 16.75 12 16.75ZM16 11.75H8C7.59 11.75 7.25 11.41 7.25 11C7.25 10.59 7.59 10.25 8 10.25H16C16.41 10.25 16.75 10.59 16.75 11C16.75 11.41 16.41 11.75 16 11.75Z" fill="#4DA1A9"></path> </g></svg>
                <h1>Notaty</h1>
            </div>
            <div class="right">
                <svg width="40px" height="40px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g id="style=bulk"> <g id="profile"> <path id="vector (Stroke)" fill-rule="evenodd" clip-rule="evenodd" d="M6.75 6.5C6.75 3.6005 9.1005 1.25 12 1.25C14.8995 1.25 17.25 3.6005 17.25 6.5C17.25 9.3995 14.8995 11.75 12 11.75C9.1005 11.75 6.75 9.3995 6.75 6.5Z" fill="#4DA1A9"></path> <path id="rec (Stroke)" fill-rule="evenodd" clip-rule="evenodd" d="M4.25 18.5714C4.25 15.6325 6.63249 13.25 9.57143 13.25H14.4286C17.3675 13.25 19.75 15.6325 19.75 18.5714C19.75 20.8792 17.8792 22.75 15.5714 22.75H8.42857C6.12081 22.75 4.25 20.8792 4.25 18.5714Z" fill="#4DA1A9"></path> </g> </g> </g></svg>
                <div id="username"></div>
            </div>
        </div>
    </div>

    <!-- Customize Setting -->
    <!-- <div id="settingBar" class="setting-bar">
        <div class="container">
            <ul>
                <li onclick="chooseFont()">Font Size</li>
                <li onclick="chooseColor()">Font Color</li>
                <li onabort="choosecolorTable()">Table Color</li>
            </ul>
        </div>
    </div> -->

    <div id="fontSizeModal" class="fModal">

    </div>

    <div id="fontColorModal" class="fModal">

    </div>

    <div id="table ColorModal" class="fModal"></div>
    </div>

    <!-- Search Bar -->
    <div id="searchBar">
        <button
            id="addBtn"
            class="action-button"
            onclick="openAddModal()"
            type="button"
        >
            Add
        </button>
        <input
            id="searchInput"
            type="text"
            class="search-input"
            placeholder="Search for note by title ..."
        />
        <button 
            id="searchBtn" 
            class="action-button"
            onclick="searchNotes()" 
            type="button"
        >
            Search
        </button>
    </div>

    <!-- Notes table -->
    <table id="notesTable">
        <colgroup>
            <col span="1" style="width: 20%;" />
            <col span="1" style="width: 30%;" />
            <col span="1" style="width: 20%;" />
            <col span="1" style="width: 20%;" />
            <col span="1" style="width: 10%;" />
        </colgroup>
        <tr>
            <th>Title</th>
            <th>Content</th>
            <th>Created At</th>
            <th>Last Updated</th>
            <th>Actions</th>
        </tr>
    </table>

    <!-- Add Note Modal -->
    <div id="addNoteModal" class="modal">
        <!-- Moel content -->
        <div class="modal-content">
            <div class="modal-header">
                <span id="closeAdd" class="close">&times;</span>
                <h2>New Note</h2>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="left">
                        <p>Title</p>
                    </div>
                    <div class="right">
                        <input id="addTitle" type="text" class="modal-input"/>
                    </div>
                </div>
                <div class="row">
                    <div class="left">
                        <p>Content</p>
                    </div>
                    <div class="right">
                        <textarea id="addContent"></textarea>
                    </div>
                </div>
                <p id="addError" class="error"></p>
            </div>
            <div class="modal-footer">
                <button
                    id="saveAddNoteBtn"
                    onclick="saveNewNote()"
                    type="button"
                    class="save action-button">
                    Save
                </button>
                <button 
                    id="cancelAddNoteBtn" 
                    type="button" 
                    class="cansel action-button">
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <!-- Edit Note Modal -->
    <div id="editNoteModal" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
            <div class="modal-header">
                <span id="closeEdit" class="close">&times;</span>
                <h2>Edit Note</h2>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="left">
                        <p>Title</p>
                    </div>
                    <div class="right">
                        <input id="editTitle" type="text" class="modal-input" />
                    </div>
                </div>
                <div class="row">
                    <div class="left">
                        <p>Content</p>
                    </div>
                    <div class="right">
                        <textarea id="editContent"></textarea>
                    </div>
                </div>
                <p id="editError" class="error"></p>
            </div>
            <div class="modal-footer">
                <button 
                    id="saveEditNoteBtn" 
                    class="save action-button"
                    onclick="saveEditNote()" 
                    type="button"> 
                    Save
                </button>
                <button 
                    id="cancelEditNoteBtn"
                    class="cansel action-button" 
                    type="button">
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <script src="./scripts/note-client.js"></script>
    <script src="./scripts/note-handler.js"></script>
    <script src="./scripts/modal-handler.js"></script>
    <script src="./scripts/auth-handler.js"></script>
</body>
</html>